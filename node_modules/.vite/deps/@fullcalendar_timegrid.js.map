{"version":3,"file":"@fullcalendar_timegrid.js","names":["createElement","createRef","Fragment"],"sources":["../../@fullcalendar/timegrid/internal.js","../../@fullcalendar/timegrid/index.js"],"sourcesContent":["import { Splitter, hasBgRendering, createFormatter, ViewContextType, ContentContainer, BaseComponent, DateComponent, diffDays, buildNavLinkAttrs, WeekNumberContainer, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorContainer, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkContainer, SegHierarchy, groupIntersectingEntries, binarySearch, getEntrySpanEnd, buildEntryKey, StandardEvent, memoize, sortEventSegs, DayCellContainer, hasCustomDayCellContent, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createElement, createRef, Fragment } from '@fullcalendar/core/preact.js';\nimport { DayTable } from '@fullcalendar/daygrid/internal.js';\n\nclass AllDaySplitter extends Splitter {\n    getKeyInfo() {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    }\n    getKeysForDateSpan(dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    }\n    getKeysForEventDef(eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    }\n}\n\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    let classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, (context) => {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        let { dateEnv, options, viewApi } = context;\n        let labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        let renderProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(ContentContainer, { elTag: \"td\", elClasses: classNames, elAttrs: {\n                'data-time': props.isoTimeStr,\n            }, renderProps: renderProps, generatorName: \"slotLabelContent\", customGenerator: options.slotLabelContent, defaultGenerator: renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-timegrid-slot-label-cushion',\n                    'fc-scrollgrid-shrink-cushion',\n                ] })))));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nclass TimeBodyAxis extends BaseComponent {\n    render() {\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\n    }\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nclass TimeColsView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        this.headerElRef = createRef();\n        this.rootElRef = createRef();\n        this.scrollerElRef = createRef();\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleScrollTopRequest = (scrollTop) => {\n            let scrollerEl = this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\n            let { options } = this.context;\n            let { dateProfile } = this.props;\n            let range = dateProfile.renderRange;\n            let dayCnt = diffDays(range.start, range.end);\n            // only do in day views (to avoid doing in week views that dont need it)\n            let navLinkAttrs = (dayCnt === 1)\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberContainer, { elTag: \"th\", elClasses: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ], elAttrs: {\n                        'aria-hidden': true,\n                    }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => (createElement(\"div\", { className: [\n                        'fc-timegrid-axis-frame',\n                        'fc-scrollgrid-shrink-frame',\n                        'fc-timegrid-axis-frame-liquid',\n                    ].join(' '), style: { height: frameHeight } },\n                    createElement(InnerContent, { elTag: \"a\", elClasses: [\n                            'fc-timegrid-axis-cushion',\n                            'fc-scrollgrid-shrink-cushion',\n                            'fc-scrollgrid-sync-inner',\n                        ], elAttrs: navLinkAttrs })))));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        this.renderTableRowAxis = (rowHeight) => {\n            let { options, viewApi } = this.context;\n            let renderProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ], elAttrs: {\n                    'aria-hidden': true,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => (createElement(\"div\", { className: [\n                    'fc-timegrid-axis-frame',\n                    'fc-scrollgrid-shrink-frame',\n                    rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : '',\n                ].join(' '), style: { height: rowHeight } },\n                createElement(InnerContent, { elTag: \"span\", elClasses: [\n                        'fc-timegrid-axis-cushion',\n                        'fc-scrollgrid-shrink-cushion',\n                        'fc-scrollgrid-sync-inner',\n                    ] })))));\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n        };\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\n        let { context, props } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { context, props } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        let isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: (arg) => (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\n                                let nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate }));\n                                }\n                                return null;\n                            })))),\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections })));\n    }\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    getAllDayMaxEventProps() {\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents, dayMaxEventRows };\n    }\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\nclass TimeColsSlatsCoords {\n    constructor(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    safeComputeTop(date) {\n        let { dateProfile } = this;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            let startOfDayDate = startOfDay(date);\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    computeDateTop(when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    computeTimeTop(duration) {\n        let { positions, dateProfile } = this;\n        let len = positions.els.length;\n        // floating-point value of # of slots covered\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        let slatIndex;\n        let slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    }\n}\n\nclass TimeColsSlatsBody extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { slatElRefs } = props;\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\n            let renderProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\n                createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                        'fc-timegrid-slot',\n                        'fc-timegrid-slot-lane',\n                        !slatMeta.isLabeled && 'fc-timegrid-slot-minor',\n                    ], elAttrs: {\n                        'data-time': slatMeta.isoTimeStr,\n                    }, renderProps: renderProps, generatorName: \"slotLaneContent\", customGenerator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })));\n        })));\n    }\n}\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nclass TimeColsSlats extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.slatElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    }\n    componentDidMount() {\n        this.updateSizing();\n    }\n    componentDidUpdate() {\n        this.updateSizing();\n    }\n    componentWillUnmount() {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    }\n    updateSizing() {\n        let { context, props } = this;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            let rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    }\n}\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    let segsByCol = [];\n    let i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TimeColMoreLink extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-timegrid-more-link'], elStyle: {\n                top: props.top,\n                bottom: props.bottom,\n            }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner, forceTimed: true }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-more-link-inner', 'fc-sticky'] }))));\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    let hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    let web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    let segRects = webToRects(web);\n    return { segRects, hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    const { entriesByLevel } = hierarchy;\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\n        let entry = entriesByLevel[level][lateral];\n        return [\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    let { level, lateralStart, lateralEnd } = siblingRange;\n    let lateral = lateralStart;\n    let pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    let { levelCoords, entriesByLevel } = hierarchy;\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    let levelCnt = levelCoords.length;\n    let level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        let entries = entriesByLevel[level];\n        let entry;\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        let lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level, lateralStart, lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\n        let { nextLevelNodes, thickness } = node;\n        let allThickness = thickness + prevThickness;\n        let thicknessFraction = thickness / allThickness;\n        let endCoord;\n        let newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (let childNode of nextLevelNodes) {\n                if (endCoord === undefined) {\n                    let res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    let res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    let rects = [];\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\n            stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        let stackForward = 0;\n        for (let node of nodes) {\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    const cache = {};\n    return (...args) => {\n        let key = keyFunc(...args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc(...args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\n    let vcoords = [];\n    if (slatCoords) {\n        for (let i = 0; i < segs.length; i += 1) {\n            let seg = segs[i];\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    let segInputs = [];\n    let dumbSegs = []; // segs without coords\n    for (let i = 0; i < segs.length; i += 1) {\n        let vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\n    let segPlacements = [];\n    for (let segRect of segRects) {\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (let dumbSeg of dumbSegs) {\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements, hiddenGroups };\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nclass TimeColEvent extends BaseComponent {\n    render() {\n        return (createElement(StandardEvent, Object.assign({}, this.props, { elClasses: [\n                'fc-timegrid-event',\n                'fc-v-event',\n                this.props.isShort && 'fc-timegrid-event-short',\n            ], defaultTimeFormat: DEFAULT_TIME_FORMAT })));\n    }\n}\n\nclass TimeCol extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.sortEventSegs = memoize(sortEventSegs);\n    }\n    // TODO: memoize event-placement?\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let isSelectMirror = options.selectMirror;\n        let mirrorSegs = // yuck\n         (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        let interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: props.elRef, elClasses: [\n                'fc-timegrid-col',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'gridcell' }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n            createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror), 'mirror')),\n            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-col-misc'] }))))));\n    }\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { props } = this;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey);\n    }\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map((segPlacement) => {\n                let { seg, rect } = segPlacement;\n                let instanceId = seg.eventRange.instance.instanceId;\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                let vStyle = computeSegVStyle(rect && rect.span);\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                let isInset = Boolean(rect) && rect.stackForward > 0;\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: forcedKey || instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    }\n    // will already have eventMinHeight applied because segInputs already had it\n    renderHiddenGroups(hiddenGroups, segs) {\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\n            let positionCss = computeSegVStyle(hiddenGroup.span);\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    }\n    renderFillSegs(segs, fillType) {\n        let { props, context } = this;\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        let children = segVCoords.map((vcoords, i) => {\n            let seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    }\n    renderNowIndicator(segs) {\n        let { slatCoords, date } = this.props;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map((seg, i) => (createElement(NowIndicatorContainer\n        // key doesn't matter. will only ever be one\n        , { \n            // key doesn't matter. will only ever be one\n            key: i, elClasses: ['fc-timegrid-now-indicator-line'], elStyle: {\n                top: slatCoords.computeDateTop(seg.start, date),\n            }, isAxis: false, date: date })));\n    }\n    computeSegHStyle(segHCoords) {\n        let { isRtl, options } = this.context;\n        let shouldOverlap = options.slotEventOverlap;\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        let left; // amount of space from left edge, a fraction of the total width\n        let right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        let props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    }\n}\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\n        let instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\n}\n\nclass TimeColsContent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.splitFgEventSegs = memoize(splitSegsByCol);\n        this.splitBgEventSegs = memoize(splitSegsByCol);\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        this.splitEventDrag = memoize(splitInteractionByCol);\n        this.splitEventResize = memoize(splitInteractionByCol);\n        this.rootElRef = createRef();\n        this.cellElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        let colCnt = props.cells.length;\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate })))))),\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\n    }\n    componentDidMount() {\n        this.updateCoords();\n    }\n    componentDidUpdate() {\n        this.updateCoords();\n    }\n    updateCoords() {\n        let { props } = this;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    }\n}\nfunction collectCellEls(elMap, cells) {\n    return cells.map((cell) => elMap[cell.key]);\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nclass TimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.processSlotOptions = memoize(processSlotOptions);\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleRootEl = (el) => {\n            if (el) {\n                this.context.registerInteractiveComponent(this, {\n                    el,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n        this.handleScrollRequest = (request) => {\n            let { onScrollTopRequest } = this.props;\n            let { slatCoords } = this.state;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    let top = slatCoords.computeTimeTop(request.time);\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top) {\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top);\n                }\n                return true;\n            }\n            return false;\n        };\n        this.handleColCoords = (colCoords) => {\n            this.colCoords = colCoords;\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n            if (this.props.onSlatCoords) {\n                this.props.onSlatCoords(slatCoords);\n            }\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    }\n    componentDidMount() {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    }\n    componentDidUpdate(prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    }\n    componentWillUnmount() {\n        this.scrollResponder.detach();\n    }\n    queryHit(positionLeft, positionTop) {\n        let { dateEnv, options } = this.context;\n        let { colCoords } = this;\n        let { dateProfile } = this.props;\n        let { slatCoords } = this.state;\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\n        let colIndex = colCoords.leftToIndex(positionLeft);\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            let cell = this.props.cells[colIndex];\n            let slatTop = slatCoords.positions.tops[slatIndex];\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            let dayDate = this.props.cells[colIndex].date;\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            let start = dateEnv.add(dayDate, time);\n            let end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile,\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n}\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    let snapDuration = snapDurationOverride || slotDuration;\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration, snapsPerSlot };\n}\n\nclass DayTimeColsSlicer extends Slicer {\n    sliceRange(range, dayRanges) {\n        let segs = [];\n        for (let col = 0; col < dayRanges.length; col += 1) {\n            let segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col,\n                });\n            }\n        }\n        return segs;\n    }\n}\n\nclass DayTimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.buildDayRanges = memoize(buildDayRanges);\n        this.slicer = new DayTimeColsSlicer();\n        this.timeColsRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { dateProfile, dayTableModel } = props;\n        let { nowIndicator, nextDayThreshold } = context.options;\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: nowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: nowIndicator && this.slicer.sliceNowDate(nowDate, dateProfile, nextDayThreshold, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\n    }\n}\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    let ranges = [];\n    for (let date of dayTableModel.headerDates) {\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nconst STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    let dayStart = new Date(0);\n    let slatTime = slotMinTime;\n    let slatIterator = createDuration(0);\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    let metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        let date = dateEnv.add(dayStart, slatTime);\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    let i;\n    let labelInterval;\n    let slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nclass DayTimeColsView extends TimeColsView {\n    constructor() {\n        super(...arguments);\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\n        this.buildSlatMetas = memoize(buildSlatMetas);\n    }\n    render() {\n        let { options, dateEnv, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let { dateProfile } = props;\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        let splitProps = this.allDaySplitter.splitProps(props);\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        let { dayMinWidth } = options;\n        let hasAttachedAxis = !dayMinWidth;\n        let hasDetachedAxis = dayMinWidth;\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    }\n}\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar css_248z = \".fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\\\00a0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\\\00a0-\\\\00a0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\";\ninjectStyles(css_248z);\n\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayTimeColsView } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\nimport '@fullcalendar/daygrid/internal.js';\n\nconst OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/timegrid',\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport { index as default };\n"],"mappings":"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"}